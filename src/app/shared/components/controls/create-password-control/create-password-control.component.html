<section class="input-control">
  <div class="input-control__wrapper">
    <input #input [type]="inputType" class="input-control__input" [formControl]="control" (keyup)="handleKeyUp($event)"
        [attr.disabled]="disabled ? 'disabled' : null">
    <label class="input-control__label" [ngClass]="{'input-control__label--active': isFocused}">{{label}}</label>

    <button class="input-control__button" (click)="handlePasswordVisabilitySwitch($event)" type="button">
      <svg-icon name="eye-opened" class="icon icon--eye" *ngIf="isPasswordVisible"></svg-icon>
      <svg-icon name="eye-closed" class="icon icon--eye-with-line" *ngIf="!isPasswordVisible"></svg-icon>
    </button>
  </div>
</section>

<ul class="requirements">
  <li class="requirements__item"
      [ngClass]="{'requirements__item--error': control.touched && (control.hasError('minlength') || control.hasError('required')),
                  'requirements__item--success': control.touched && !control.hasError('minlength')}">
    <span class="requirements__item-icon">
      <svg-icon name="check-rounded" class="icon icon--requirement" *ngIf="control.untouched || control.touched && !control.hasError('minlength') && !control.hasError('required')"></svg-icon>
      <svg-icon name="cross-small" class="icon icon--requirement" *ngIf="control.touched && (control.hasError('minlength') || control.hasError('required'))"></svg-icon>
    </span>
    At least 8 characters long
  </li>

  <li class="requirements__item"
        [ngClass]="{'requirements__item--error': control.touched && (control.hasError('missedUppercaseSymbol') || control.hasError('required')),
                    'requirements__item--success': control.touched && !control.hasError('missedUppercaseSymbol')}">
    <span class="requirements__item-icon">
      <svg-icon name="check-rounded" class="icon icon--requirement" *ngIf="control.untouched || control.touched && !control.hasError('missedUppercaseSymbol') && !control.hasError('required')"></svg-icon>
      <svg-icon name="cross-small" class="icon icon--requirement" *ngIf="control.touched && (control.hasError('missedUppercaseSymbol') || control.hasError('required'))"></svg-icon>
    </span>
      Contains uppercase letters
  </li>

  <li class="requirements__item"
      [ngClass]="{'requirements__item--error': control.touched && (control.hasError('missedDigit') || control.hasError('required')),
                  'requirements__item--success': control.touched && !control.hasError('missedDigit')}">
    <span class="requirements__item-icon">
      <svg-icon name="check-rounded" class="icon icon--requirement" *ngIf="control.untouched || control.touched && !control.hasError('missedDigit') && !control.hasError('required')"></svg-icon>
      <svg-icon name="cross-small" class="icon icon--requirement" *ngIf="control.touched && (control.hasError('missedDigit') || control.hasError('required'))"></svg-icon>
    </span>
    Contains number
  </li>

  <li class="requirements__item"
      [ngClass]="{'requirements__item--error': control.touched && (control.hasError('missedLowercaseSymbol') || control.hasError('required')),
                  'requirements__item--success': control.touched && !control.hasError('missedLowercaseSymbol')}">
    <span class="requirements__item-icon">
      <svg-icon name="check-rounded" class="icon icon--requirement" *ngIf="control.untouched || control.touched && !control.hasError('missedLowercaseSymbol') && !control.hasError('required')"></svg-icon>
      <svg-icon name="cross-small" class="icon icon--requirement" *ngIf="control.touched && (control.hasError('missedLowercaseSymbol') || control.hasError('required'))"></svg-icon>
    </span>
    Contains lowercase letters
  </li>
</ul>
